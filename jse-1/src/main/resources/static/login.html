<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<body>
	<h2>HOMEPAGE</h2>

	<header>
		<p>
			<b>Take a Look</b>
		</p>
	</header>

	<section>
		<nav>
			<ul>
				<li><a id = "join_a">Join</a></li>
				<li><a id = "login_a">Login</a></li>
				<li><a id = "signup_a">User Sign_up</a></li>
				<li><a id = "signin_a">User Sign_in</a>
			</ul>
		</nav>

		<article>
			<h1>Log-in</h1>
			<form action="#">
				<label>ID</label><br> 
				<input id="userid" type="text" /><br> <br> 
				<label>Password</label><br> 
				<input id="password" type="text" /><br> <br> 
				<input id="submit_button" type="button" value="Submit" /> 
				<input id="cancel_button" type="button" value="Cancel" />
			</form>
		</article>
	</section>

	<footer>
		<p>Footer</p>
	</footer>
		<script>
		$('#join_a')
			.css('cursor','pointer')
			.click(e=>{
			e.preventDefault()
			location.href = "admin/join.html"
		})
		$('#login_a')
			.css('cursor','pointer')
			.click(e => {
				e.preventDefault()
				location.href = "login.html"
			})
		$('#signup_a')
			.css('cursor','pointer')
			.click(e => {
				e.preventDefault()
				location.href ="user/signup.html"
			})
		
		$('#signin_a')
			.css('cursor','pointer')
			.click(e=>{
				e.preventDefault()
				location.href = "user/signin.html"
			})
			
		$('#submit_button')
			.css('cursor','pointer')
			.click(e=>{
				e.preventDefault()
				$.ajax({
					url:'/admin/login',
					type:'post',
					data:JSON.stringify(
						{userid : $('#userid').val(),
						password : $('#password').val()}),
					dataType :'json',
					contentType :'application/json',
					success : d => {
						if(d==='SUCCESS'){
							location.href = "admin/list.html" 
						} else {
							location.href = "login.html"
							alert('로그인에 실패하였습니다. 다시 입력해주세요.')
						}
					},
					error : (request,status,error) => {
						   alert("code:"+request.status+"\n"+"message:"+request.responseText+"\n"+"error:"+error)
					}
				})
				
			})
		
		$('#cancel_button')
		.css('cursor','pointer')
		.click(e=>{
			e.preventDefault()
			alert('취소')
		})
	</script>
</body>
</html>